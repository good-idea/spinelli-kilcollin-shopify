!function t(e,s,i){function n(o,u){if(!s[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=s[o]={exports:{}};e[o][0].call(h.exports,function(t){return n(e[o][1][t]||t)},h,h.exports,t,e,s,i)}return s[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({"/Users/rye/Dropbox (Jodie)/Repos/spk/src/js/stepsForm.js":[function(t,e,s){"use strict";!function(t){function e(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t}function s(t,s){this.el=t,this.options=e({},this.options),e(this.options,s),this._init()}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},n=i[Modernizr.prefixed("transition")],r={transitions:Modernizr.csstransitions};s.prototype.options={onSubmit:function(){return!1}},s.prototype._init=function(){this.current=0,this.questions=[].slice.call(this.el.querySelectorAll("ol.questions > li")),this.questionsCount=this.questions.length,classie.addClass(this.questions[0],"current"),this.ctrlNext=this.el.querySelector("button.next"),this.progress=this.el.querySelector("div.progress"),this.questionStatus=this.el.querySelector("span.number"),this.currentNum=this.questionStatus.querySelector("span.number-current"),this.currentNum.innerHTML=Number(this.current+1),this.totalQuestionNum=this.questionStatus.querySelector("span.number-total"),this.totalQuestionNum.innerHTML=this.questionsCount,this.error=this.el.querySelector("span.error-message"),this._initEvents()},s.prototype._initEvents=function(){var t=this,e=this.questions[this.current].querySelector("input"),s=function s(){e.removeEventListener("focus",s),classie.addClass(t.ctrlNext,"show")};e.addEventListener("focus",s),this.ctrlNext.addEventListener("click",function(e){e.preventDefault(),t._nextQuestion()}),document.addEventListener("keydown",function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),t._nextQuestion())}),this.el.addEventListener("keydown",function(t){9===(t.keyCode||t.which)&&t.preventDefault()})},s.prototype._nextQuestion=function(){if(!this._validade())return!1;this.current===this.questionsCount-1&&(this.isFilled=!0),this._clearError();var t=this.questions[this.current];if(++this.current,this._progress(),!this.isFilled){this._updateQuestionNumber(),classie.addClass(this.el,"show-next");var e=this.questions[this.current];classie.removeClass(t,"current"),classie.addClass(e,"current")}var s=this,i=function t(i){r.transitions&&this.removeEventListener(n,t),s.isFilled?s._submit():(classie.removeClass(s.el,"show-next"),s.currentNum.innerHTML=s.nextQuestionNum.innerHTML,s.questionStatus.removeChild(s.nextQuestionNum),e.querySelector("input").focus())};r.transitions?this.progress.addEventListener(n,i):i()},s.prototype._progress=function(){this.progress.style.width=this.current*(100/this.questionsCount)+"%"},s.prototype._updateQuestionNumber=function(){this.nextQuestionNum=document.createElement("span"),this.nextQuestionNum.className="number-next",this.nextQuestionNum.innerHTML=Number(this.current+1),this.questionStatus.appendChild(this.nextQuestionNum)},s.prototype._submit=function(){this.options.onSubmit(this.el)},s.prototype._validade=function(){return""!==this.questions[this.current].querySelector("input").value||(this._showError("EMPTYSTR"),!1)},s.prototype._showError=function(t){var e="";switch(t){case"EMPTYSTR":e="Please fill the field before continuing";break;case"INVALIDEMAIL":e="Please fill a valid email address"}this.error.innerHTML=e,classie.addClass(this.error,"show")},s.prototype._clearError=function(){classie.removeClass(this.error,"show")},t.stepsForm=s}(window)},{}]},{},["/Users/rye/Dropbox (Jodie)/Repos/spk/src/js/stepsForm.js"]);
//# sourceMappingURL=stepsForm.js.map
